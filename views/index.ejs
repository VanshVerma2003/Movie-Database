<% layout('layouts/boilerplate') %>

<a href="/add" class="btn btn-add">+ Add New Movie</a>

<table>
    <tr>
        <th>ID</th>
        <th>Title</th>
        <th>Director</th>
        <th>Genre</th>
        <th>Year</th>
        <th>Rating</th>
        <th>Actions</th>
    </tr>
    <% movies.forEach(movie => { %>
    <tr>
        <td><%= movie.id %></td>
        <td><%= movie.title %></td>
        <td><%= movie.director || '-' %></td>
        <td><%= movie.genre || '-' %></td>
        <td><%= movie.year || '-' %></td>
        <td class="rating"><%= movie.rating ? 'â­ ' + movie.rating : '-' %></td>
        <td>
            <a href="/edit/<%= movie.id %>" class="btn btn-edit">Edit</a>
            <a href="/delete/<%= movie.id %>" class="btn btn-delete" onclick="return confirm('Delete this movie?')">Delete</a>
        </td>
    </tr>
    <% }) %>
</table>

<p style="margin-top:15px; color:#888;">Total: <%= movies.length %> movies</p>